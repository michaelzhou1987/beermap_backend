(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{355:function(e,a,t){"use strict";t.d(a,"a",function(){return c}),t.d(a,"c",function(){return u}),t.d(a,"b",function(){return m}),t.d(a,"d",function(){return p});var n=t(70),r=t(72);function i(){var e=Object(n.a)(["\n  query {\n    brewerys {\n      name\n      _id\n    }\n  }\n"]);return i=function(){return e},e}function s(){var e=Object(n.a)(["\n  query beer ($id: ID!){\n    beer (_id:$id) {\n      name\n      _id\n      country\n      state\n      city\n      rate\n      date\n      breweryName\n      description\n    }\n  }\n"]);return s=function(){return e},e}function l(){var e=Object(n.a)(["\n  query {\n    beers {\n      name\n      _id\n      country\n      state\n      city\n      rate\n      date\n      breweryName\n      description\n    }\n  }\n"]);return l=function(){return e},e}function o(){var e=Object(n.a)(["\n  query existingUser($email: String!) {\n    existingUser(email: $email) {\n      email\n      _id\n    }\n  }\n"]);return o=function(){return e},e}var c=Object(r.a)(o()),u=Object(r.a)(l()),m=Object(r.a)(s()),p=Object(r.a)(i())},405:function(e,a,t){"use strict";t.r(a);var n=t(73),r=t.n(n),i=t(91),s=t(59),l=t(60),o=t(62),c=t(61),u=t(63),m=t(0),p=t.n(m),d=t(64),f=t(92),h=t(355),E=t(357),b=t.n(E),y=t(398),g=t(408),v=t(347),w=t(344),O=t(148),P=t(12),j=t(349),k=t(41),q=y.a.Option,x=g.a.Option,N=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return(t=Object(o.a)(this,(e=Object(c.a)(a)).call.apply(e,[this].concat(l)))).state={confirmDirty:!1,autoCompleteResult:[]},t.handleSubmit=function(e){e.preventDefault();var a=t.props.form.getFieldsValue();t.props.form.validateFieldsAndScroll(function(e,a){e||console.log("Received values of form: ",a)}),t.props.CREATE_USER({variables:{userInput:a}}).then(function(e){console.log(e)})},t.handleConfirmBlur=function(e){var a=e.target.value;t.setState({confirmDirty:t.state.confirmDirty||!!a})},t.compareToFirstPassword=function(e,a,n){var r=t.props.form;a&&a!==r.getFieldValue("pwd")?n("Two passwords that you enter is inconsistent!"):n()},t.validateToNextPassword=function(e,a,n){var r=t.props.form;a&&t.state.confirmDirty&&r.validateFields(["confirmPwd"],{force:!0}),n()},t.checkExistingUser=function(){var e=Object(i.a)(r.a.mark(function e(a,t,n){var i,s;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post("http://127.0.0.1:8000/api/checkUserEmail",{email:t});case 2:i=e.sent,s=i.data,console.log(s.error),1===s.error?(console.log(s.msg),n(s.msg)):n();case 6:case"end":return e.stop()}},e)}));return function(a,t,n){return e.apply(this,arguments)}}(),t}return Object(u.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,a=this.state.autoCompleteResult,t={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},n=e("prefix",{initialValue:"1"})(p.a.createElement(y.a,{style:{width:70}},p.a.createElement(q,{value:"1"},"+1"),p.a.createElement(q,{value:"86"},"+86")));a.map(function(e){return p.a.createElement(x,{key:e},e)});return p.a.createElement(v.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},{onSubmit:this.handleSubmit,style:{maxWidth:600}}),p.a.createElement(v.a.Item,{label:"E-mail"},e("email",{validate:[{trigger:"onBlur",rules:[{validator:this.checkExistingUser},{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]},{trigger:"onChange",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]}]})(p.a.createElement(w.a,null))),p.a.createElement(v.a.Item,{label:"Password",hasFeedback:!0},e("pwd",{rules:[{required:!0,message:"Please input your password!"},{validator:this.validateToNextPassword}]})(p.a.createElement(w.a.Password,null))),p.a.createElement(v.a.Item,{label:"Confirm Password",hasFeedback:!0},e("confirmPwd",{rules:[{required:!0,message:"Please confirm your password!"},{validator:this.compareToFirstPassword}]})(p.a.createElement(w.a.Password,{onBlur:this.handleConfirmBlur}))),p.a.createElement(v.a.Item,{label:p.a.createElement("span",null,"Nickname\xa0",p.a.createElement(O.a,{title:"What do you want others to call you?"},p.a.createElement(P.a,{type:"question-circle-o"})))},e("nickname",{rules:[{required:!0,message:"Please input your nickname!",whitespace:!0}]})(p.a.createElement(w.a,null))),p.a.createElement(v.a.Item,{label:p.a.createElement("span",null,"First Name\xa0",p.a.createElement(O.a,{title:"First Name"},p.a.createElement(P.a,{type:"question-circle-o"})))},e("firstName",{rules:[{required:!1,message:"Please input your firstname!",whitespace:!1}]})(p.a.createElement(w.a,null))),p.a.createElement(v.a.Item,{label:p.a.createElement("span",null,"Last Name\xa0",p.a.createElement(O.a,{title:"Last Name"},p.a.createElement(P.a,{type:"question-circle-o"})))},e("lastName",{rules:[{required:!1,message:"Please input your lastname!",whitespace:!1}]})(p.a.createElement(w.a,null))),p.a.createElement(v.a.Item,{label:"Phone Number"},e("phoneNumber",{rules:[{required:!1,message:"Please input your phone number!"}]})(p.a.createElement(w.a,{addonBefore:n,style:{width:"100%"}}))),p.a.createElement(v.a.Item,t,e("agreement",{valuePropName:"checked"})(p.a.createElement(j.a,null,"I have read the ",p.a.createElement("a",{href:""},"agreement")))),p.a.createElement(v.a.Item,t,p.a.createElement(k.a,{type:"primary",htmlType:"submit"},"Register")))}},{key:"componentDidMount",value:function(){console.log(this.props),console.log(this.props.form.getFieldsValue())}},{key:"componentDidUpdate",value:function(){}}]),a}(m.Component),C=v.a.create({name:"register"})(N);a.default=Object(d.b)(Object(d.c)(f.d,{name:"CREATE_USER"}),Object(d.c)(h.a,{name:"checkExistingUserQuery"}))(C)}}]);
//# sourceMappingURL=10.bfc36574.chunk.js.map